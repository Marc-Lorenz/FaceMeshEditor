<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Face Mesh Editor</title>
    <link rel="icon" type="image/x-icon" href="/static/images/favicon.ico">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="/static/css/boostrap.scss">
    <link rel="stylesheet" href="/static/css/standard.css">
    <!-- Scripts -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
</head>
<body>

<div id="app"></div>

<div id="modalInfo" class="modal fade" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Info</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body text-center">
                &copy; 2024<br>Chair of Human-Centered Artificial Intelligence<br>University of Augsburg<br>Germany
            </div>
        </div>
    </div>
</div>

<div id="modalSettingsModel" class="modal fade" tabindex="-1" aria-labelledby="modalSettingsModelLabel"
     aria-hidden="true" data-bs-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
        <form>
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalSettingsModelLabel">Webservice</h5>
                    <button id="btnCloseModal" type="button" class="btn-close" data-bs-dismiss="modal"
                            aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>
                        The webservice address will be used to detect a face mesh on selected images.
                        Therefore, the images must be transferred to the webservice for processing.
                        The open format allows it to create individual webservices by everyone and can be easily
                        swapped.
                    </p>
                    <div class="alert alert-warning d-flex align-items-center" role="alert">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             class="bi bi-exclamation-triangle-fill flex-shrink-0 me-2"
                             viewBox="0 0 16 16" role="img" aria-label="Warning:" style="width: 2vw;">
                            <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
                        </svg>
                        <div>
                            Be aware, that the webservice owner might store your images and annotations!
                        </div>
                    </div>
                    <hr>
                    <h6>API</h6>
                    <p>
                        The webservice API must provide the following addresses:
                        <br><code>/detect</code><br>
                        This call is used to detect a single face on a provided image file inside a POST request.
                        <br><code>/annotations</code><br>
                        This call is used to sync the annotations inside a POST request when the user triggers the
                        download.
                    </p>
                    <hr>
                    <h6>URL</h6>
                    <p>Insert the webservice URL in the text field below and submit with hitting the Save button.</p>
                    <div id="urlErrorText" class="text-danger" hidden>
                    </div>
                    <label for="modelurl" class="form-label" hidden></label>
                    <input type="url" class="form-control" id="modelurl"
                           placeholder="https://example.com/model/api" required>
                </div>
                <div class="modal-footer">
                    <button id="btnCancelModal" type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel
                    </button>
                    <button id="btnSaveCustomModel" type="submit" class="btn btn-primary">Save</button>
                </div>
            </div>
        </form>
    </div>
</div>

<!-- Notification popups -->
<div class="toast-container position-fixed bottom-0 end-0 p-3">
    <div id="saveNotification" class="toast">
        <div class="toast-header" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="greenSquare"></div>
            <div id="saveNotificationText" class="p-1"><!-- filled by javascript --></div>
        </div>
    </div>
</div>
<script src="/src/app.ts" type="module"></script>
<script type="module" src="/src/main.ts"></script>
</body>
</html>
